{"ast":null,"code":"import React,{useState}from'react';import'../styles/Reg.css';import{signup}from\"../utils/api\";import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Reg(){const[statusInput,setStatusInput]=useState();const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const handleSubmit=async()=>{setLoading(true);try{let message=await signup(username,password);setStatusInput(message);}catch(error){setStatusInput({message:error.message});setLoading(false);}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"reg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"reg__heading\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{className:\"reg__input\",placeholder:\"username\",name:\"username\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:(statusInput!==null&&statusInput!==void 0&&statusInput.status?statusInput===null||statusInput===void 0?void 0:statusInput.status:500>=300)?\"auth__message_error\":\"auth__message\",children:statusInput===null||statusInput===void 0?void 0:statusInput.username}),/*#__PURE__*/_jsx(\"input\",{className:\"reg__input\",placeholder:\"password\",name:\"password\",value:password,onChange:e=>setPassword(e.target.value),type:\"password\"}),/*#__PURE__*/_jsx(\"div\",{className:(statusInput!==null&&statusInput!==void 0&&statusInput.status?statusInput===null||statusInput===void 0?void 0:statusInput.status:500>=300)?\"auth__message_error\":\"auth__message\",children:statusInput===null||statusInput===void 0?void 0:statusInput.password}),/*#__PURE__*/_jsx(\"button\",{className:\"reg__button\",type:\"submit\",onClick:handleSubmit,disabled:loading,children:loading?'Отправка...':'Отправить'}),/*#__PURE__*/_jsx(\"div\",{className:(statusInput!==null&&statusInput!==void 0&&statusInput.status?statusInput===null||statusInput===void 0?void 0:statusInput.status:500>=300)?\"auth__message_error\":\"auth__message\",children:statusInput===null||statusInput===void 0?void 0:statusInput.message}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"reg__link\",children:\"\\u0423\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"reg__link\",children:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"})]});}export default Reg;","map":{"version":3,"names":["React","useState","signup","Link","jsx","_jsx","jsxs","_jsxs","Reg","statusInput","setStatusInput","username","setUsername","password","setPassword","loading","setLoading","handleSubmit","message","error","className","children","placeholder","name","value","onChange","e","target","status","type","onClick","disabled","to"],"sources":["C:/Users/user/Desktop/DOCKpushTEST/Front/src/pages/Reg.tsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport '../styles/Reg.css';\r\nimport {signup} from \"../utils/api\"\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { AuthResponse } from '../types/types';\r\n\r\nfunction Reg() {\r\n    const [statusInput, setStatusInput] = useState<AuthResponse>();\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async () => {\r\n        setLoading(true);\r\n        try {\r\n            let message = await signup(username, password);\r\n            setStatusInput(message);\r\n        } catch (error: any) {\r\n            setStatusInput({message: error.message});\r\n            setLoading(false);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"reg\">\r\n            <h1 className=\"reg__heading\">Регистрация</h1>\r\n            <input \r\n                className=\"reg__input\"\r\n                placeholder=\"username\" \r\n                name=\"username\"\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n            <div className={(statusInput?.status ? statusInput?.status : 500 >= 300) ? \"auth__message_error\" : \"auth__message\"}>{statusInput?.username}</div>\r\n            <input \r\n                className=\"reg__input\"\r\n                placeholder=\"password\" \r\n                name=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                type=\"password\"\r\n            />\r\n            <div className={(statusInput?.status ? statusInput?.status : 500 >= 300) ? \"auth__message_error\" : \"auth__message\"}>{statusInput?.password}</div>\r\n            <button \r\n                className=\"reg__button\"\r\n                type=\"submit\" \r\n                onClick={handleSubmit} \r\n                disabled={loading}\r\n            >\r\n            {loading ? 'Отправка...' : 'Отправить'}\r\n            </button>\r\n            <div className={(statusInput?.status ? statusInput?.status : 500 >= 300) ? \"auth__message_error\" : \"auth__message\"}>{statusInput?.message}</div>\r\n            <Link to=\"/login\" className=\"reg__link\">Уже есть аккаунт</Link>\r\n            <Link to=\"/\" className=\"reg__link\">Главная</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Reg;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}