{"ast":null,"code":"import React,{useState}from'react';import\"../../styles/CreateGame.css\";import{createGame}from'../../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateGame=_ref=>{let{handleSubmitShowModal,createGameSuccess}=_ref;const[statusInput,setStatusInput]=useState();const[name,setName]=useState('');const[loading,setLoading]=useState(false);const hadnleCreateGame=async()=>{setLoading(true);try{var _message$status;let message=await createGame(name);setStatusInput(message);console.log(message);if((_message$status=message===null||message===void 0?void 0:message.status)!==null&&_message$status!==void 0?_message$status:500<300){var _message$room_id;createGameSuccess((_message$room_id=message===null||message===void 0?void 0:message.room_id)!==null&&_message$room_id!==void 0?_message$room_id:\"\");handleSubmitShowModal();}}catch(error){setStatusInput({message:error.message});setLoading(false);}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",onClick:handleSubmitShowModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"createGame\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"closeWindow\",onClick:handleSubmitShowModal,children:\"X\"}),/*#__PURE__*/_jsx(\"input\",{className:\"createGame__inputName\",maxLength:20,value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"createGame__button\",onClick:hadnleCreateGame,disabled:loading,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0438\\u0433\\u0440\\u0443\"}),/*#__PURE__*/_jsx(\"div\",{className:\"createGame__message\",children:statusInput===null||statusInput===void 0?void 0:statusInput.message})]})});};export default CreateGame;","map":{"version":3,"names":["React","useState","createGame","jsx","_jsx","jsxs","_jsxs","CreateGame","_ref","handleSubmitShowModal","createGameSuccess","statusInput","setStatusInput","name","setName","loading","setLoading","hadnleCreateGame","_message$status","message","console","log","status","_message$room_id","room_id","error","className","onClick","children","e","stopPropagation","maxLength","value","onChange","target","disabled"],"sources":["C:/Users/user/Desktop/DOCKpushTEST/Front/src/components/Home/createGame.tsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport { CreateGameMessage, CreateGameProps } from '../../types/types';\r\nimport \"../../styles/CreateGame.css\";\r\nimport { createGame } from '../../utils/api';\r\n\r\nconst CreateGame: React.FC<CreateGameProps> = ({handleSubmitShowModal, createGameSuccess}) => {\r\n\r\n    const [statusInput, setStatusInput] = useState<CreateGameMessage>()\r\n    const [name, setName] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    \r\n        const hadnleCreateGame = async () => {\r\n            setLoading(true);\r\n            try {\r\n                let message = await createGame(name);\r\n                setStatusInput(message);\r\n                console.log(message)\r\n                if(message?.status ?? 500 < 300)\r\n                {\r\n                    createGameSuccess(message?.room_id ?? \"\")\r\n                    handleSubmitShowModal()\r\n                }\r\n            } catch (error: any) {\r\n                setStatusInput({message: error.message});\r\n                setLoading(false);\r\n            }\r\n            setLoading(false);\r\n        };\r\n    \r\n\r\n    return (\r\n        <div className=\"overlay\" onClick={handleSubmitShowModal}>\r\n            <div className=\"createGame\" onClick={(e) => e.stopPropagation()}>\r\n                <div className='closeWindow' onClick={handleSubmitShowModal}>X</div>\r\n                <input \r\n                    className=\"createGame__inputName\" maxLength={20}\r\n                    value={name} \r\n                    onChange={(e) => setName(e.target.value)}\r\n                    />\r\n                <button className=\"createGame__button\" onClick={hadnleCreateGame} disabled={loading}>\r\n                    Создать игру\r\n                </button>\r\n                <div className={\"createGame__message\"}>{statusInput?.message}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateGame;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CAErC,MAAO,6BAA6B,CACpC,OAASC,UAAU,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,UAAqC,CAAGC,IAAA,EAAgD,IAA/C,CAACC,qBAAqB,CAAEC,iBAAiB,CAAC,CAAAF,IAAA,CAErF,KAAM,CAACG,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAoB,CAAC,CACnE,KAAM,CAACY,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAEzC,KAAM,CAAAgB,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjCD,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,KAAAE,eAAA,CACA,GAAI,CAAAC,OAAO,CAAG,KAAM,CAAAjB,UAAU,CAACW,IAAI,CAAC,CACpCD,cAAc,CAACO,OAAO,CAAC,CACvBC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC,CACpB,IAAAD,eAAA,CAAGC,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEG,MAAM,UAAAJ,eAAA,UAAAA,eAAA,CAAI,GAAG,CAAG,GAAG,CAC/B,KAAAK,gBAAA,CACIb,iBAAiB,EAAAa,gBAAA,CAACJ,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEK,OAAO,UAAAD,gBAAA,UAAAA,gBAAA,CAAI,EAAE,CAAC,CACzCd,qBAAqB,CAAC,CAAC,CAC3B,CACJ,CAAE,MAAOgB,KAAU,CAAE,CACjBb,cAAc,CAAC,CAACO,OAAO,CAAEM,KAAK,CAACN,OAAO,CAAC,CAAC,CACxCH,UAAU,CAAC,KAAK,CAAC,CACrB,CACAA,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAGL,mBACIZ,IAAA,QAAKsB,SAAS,CAAC,SAAS,CAACC,OAAO,CAAElB,qBAAsB,CAAAmB,QAAA,cACpDtB,KAAA,QAAKoB,SAAS,CAAC,YAAY,CAACC,OAAO,CAAGE,CAAC,EAAKA,CAAC,CAACC,eAAe,CAAC,CAAE,CAAAF,QAAA,eAC5DxB,IAAA,QAAKsB,SAAS,CAAC,aAAa,CAACC,OAAO,CAAElB,qBAAsB,CAAAmB,QAAA,CAAC,GAAC,CAAK,CAAC,cACpExB,IAAA,UACIsB,SAAS,CAAC,uBAAuB,CAACK,SAAS,CAAE,EAAG,CAChDC,KAAK,CAAEnB,IAAK,CACZoB,QAAQ,CAAGJ,CAAC,EAAKf,OAAO,CAACe,CAAC,CAACK,MAAM,CAACF,KAAK,CAAE,CACxC,CAAC,cACN5B,IAAA,WAAQsB,SAAS,CAAC,oBAAoB,CAACC,OAAO,CAAEV,gBAAiB,CAACkB,QAAQ,CAAEpB,OAAQ,CAAAa,QAAA,CAAC,qEAErF,CAAQ,CAAC,cACTxB,IAAA,QAAKsB,SAAS,CAAE,qBAAsB,CAAAE,QAAA,CAAEjB,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEQ,OAAO,CAAM,CAAC,EAClE,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAZ,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}